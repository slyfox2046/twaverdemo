<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
<div id="id1" style="height:200px">
    hello

</div>
<div id="container">

</div>

<script type="text/javascript" src="../jq/jquery-1.8.2.js"></script>
<script type="text/javascript" src="../lib/echarts.js"></script>

<script type="text/javascript">

    $(window).resize(function () {

        // stack 堆叠 显示

        var h = $("#id1").height();
        console.log(h);
        h = $(window).height() -h ;
        console.log(h);
        $("#container").css({
            height: (h-50)+'px',
            width: '80%',
            'margin-left': "50px"
        });

        myChart.resize();

    })
    var h = $("#id1").height();
    console.log(h);
    h = $(window).height() -h ;
    console.log(h);
    $("#container").css({
        height: (h-50)+'px',
        width: '80%',
        'margin-left': "50px"
    });

    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    var app = {};
    option = null;
    var dataMap = {};

    option = {
        title: {
            text: '折线图堆叠'
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['周一','周二','周三','周四','周五','周六','周日']
        },
        yAxis: {
            type: 'value'
        },
        series: [
            {
                name:'邮件营销',
                type:'line',
                stack: '总量',// stack 堆叠 显示
                data:[0, 0, 0, 0, 0, 0, 0]
            },
            {
                name:'联盟广告',
                type:'line',
                stack: '总量',// stack 堆叠 显示
                data:[5, 5, 5, 0, 5, 5, 5]
            },
            {
                name:'视频广告',
                type:'line',
                stack: '总量',// stack 堆叠 显示
                data:[0, 0, 0, 5, 0, 0, 0]
            },
            {
                name:'直接访问',
                type:'line',
                stack: '总量',// stack 堆叠 显示
                data:[0, 0, 0, 0, 0, 0, 0]
            },
            {
                name:'搜索引擎',
                type:'line',
                stack: '总量',// stack 堆叠 显示
                data:[0, 0, 0, 0, 0, 0, 0]
            }
        ]
    };



    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
</script>
</body>
</html>
